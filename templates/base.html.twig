<!doctype html>
<html lang="fr" data-fr-scheme="system">
    <head>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no,date=no,address=no,email=no,url=no">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="theme-color" content="#000091"><!-- Défini la couleur de thème du navigateur (Safari/Android) -->

        <link rel="apple-touch-icon" href="{{ asset('dsfr/favicon/apple-touch-icon.png') }}"/>
        <link rel="icon" href="{{ asset('dsfr/favicon/favicon.svg') }}" type="image/svg+xml"/>
        <link rel="shortcut icon" href="{{ asset('/dsfr/favicon/favicon.ico') }}" type="image/x-icon"/>
        <link rel="manifest" href="{{ asset('dsfr/favicon/manifest.webmanifest') }}" crossorigin="use-credentials"/>
        <link rel="stylesheet" href="{{ asset('dsfr/utility/utility.min.css') }}"/>
        <link rel="stylesheet" href="{{ asset('dsfr/dsfr.min.css') }}"/>
        {% block stylesheets %}
        {% endblock stylesheets %}
        <title>{% block title %}Mon indemnisation justice{% if title is defined %} - {{ title }}{% endif %}{% endblock %}</title>

    </head>
    <body>
        <header role="banner" class="fr-header">
            {% block header %}
                {% include('_header.html.twig') %}
            {% endblock header %}
            {% block menu %}
                {% include('_menu.html.twig') %}
            {% endblock menu %}
        </header>

        <main role="main">
            <div class="fr-container fr-container--fluid fr-my-2w fr-px-3w">
                {% block main %}
                {% endblock main %}
            </div>
        </main>

        {% include('_footer.html.twig') %}

        {% block javascripts %}
            <script>
                // Options disponibles à l'initialisation du DSFR
                window.dsfr = {
                    verbose: {% if app.debug %}true{% else %}false{% endif %},
                    mode: 'manual'
                };
                // Rustine pour palier à l'automatisation du thème DSFR:
                if (!localStorage.getItem('scheme')) {
                    localStorage.setItem('scheme', 'system');
                }

                document.getElementsByTagName('html').item(0)?.setAttribute('data-fr-theme', localStorage.getItem('scheme'));
            </script>
            <script type="module" href="{{ asset('dsfr/dsfr.module.min.js') }}"></script>
            <script type="text/javascript" nomodule href="{{ asset('dsfr/dsfr.nomodule.min.js') }}"></script>
        {% endblock %}

    </body>
</html>
