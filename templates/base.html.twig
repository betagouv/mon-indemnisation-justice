<!doctype html>
<html lang="fr" data-fr-scheme="system">
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Mon indemnisation justice{% if title is defined %} - {{ title }}{% endif %}{% endblock %}</title>

        <link rel="apple-touch-icon" href="{{ asset('dsfr/favicon/apple-touch-icon.png') }}"/>
        <link rel="icon" href="{{ asset('dsfr/favicon/favicon.svg') }}" type="image/svg+xml"/>
        <link rel="shortcut icon" href="{{ asset('/dsfr/favicon/favicon.ico') }}" type="image/x-icon"/>
        <link rel="manifest" href="{{ asset('/dsfr/favicon/manifest.webmanifest') }}" crossorigin="use-credentials"/>
        <link rel="stylesheet" href="{{ asset('/dsfr/utility/utility.min.css') }}"/>
        <link rel="stylesheet" href="{{ asset('dsfr/dsfr.min.css') }}"/>
    </head>
    <body>
        {% include('_header.html.twig') %}
        <main role="main">
            <div class="fr-container fr-container--fluid fr-my-2w">
                {% block main %}
                {% endblock main %}
            </div>
        </main>

        {% include('_footer.html.twig') %}

    {% block javascripts %}
        <script>
            // Options disponibles à l'initialisation du DSFR
            window.dsfr = {
                verbose: true,
                mode: 'loaded'
            };
            // Rustine pour palier à l'automatisation du thème DSFR:
            if (!localStorage.getItem('scheme')) {
                localStorage.setItem('scheme', 'system');
            }

            document.getElementsByTagName('html').item(0)?.setAttribute('data-fr-theme', localStorage.getItem('scheme'));
        </script>
        <script type="module" href="{{ asset('dsfr/dsfr.module.min.js') }}"></script>
        <script type="text/javascript" nomodule href="{{ asset('dsfr/dsfr.nomodule.min.js') }}"></script>
    {% endblock %}

    </body>
</html>
